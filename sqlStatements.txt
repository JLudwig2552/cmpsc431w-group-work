CREATE TABLE Category (categoryID CHAR(20), name CHAR(30), description CHAR(100), PRIMARY KEY(categoryID));

CREATE TABLE CategoryRelations (categoryID CHAR(20), parentID CHAR(20), childID CHAR(20), PRIMARY KEY (categoryID), FOREIGN KEY (parentID) REFERENCES Category(categoryID), FOREIGN KEY(childID) REFERENCES Category (categoryID), FOREIGN KEY(categoryID) REFERENCES Category(categoryID) ON DELETE CASCADE);

CREATE TABLE Items (itemID CHAR(20), description CHAR(200), sale_price REAL, addressID CHAR(20), PRIMARY KEY(itemID), FOREIGN KEY (addressID) REFERENCES ADDRESS (addressID) ON DELETE NO ACTION);

CREATE TABLE Auction (auctionID CHAR(20), reserve_price REAL, top_bid CHAR(20), end_time DATE NOT NULL, PRIMARY KEY(auctionID), FOREIGN KEY (top_bid) REFERENCES BID(bidID));

CREATE TABLE Bids (bidID CHAR(20), auctionID, timestamp DATE, amount REAL, PRIMARY KEY (bidID), FOREIGN KEY (auctionID) REFERENCES Auction(auctionID) ON DELETE CASCADE);

CREATE TABLE Address (addressID CHAR(20), street CHAR(40), city CHAR(30), state CHAR(30), zipcode CHAR(20), phone_number CHAR(20), PRIMARY KEY (addressID));

CREATE TABLE Ratings (itemID CHAR(20), rating INTEGER, content CHAR(80), date DATE, PRIMARY KEY (itemID), FOREIGN KEY (itemID) REFERNCES Items (itemID) ON DELETE CASCADE);

CREATE TABLE TRANSACTION (itemID CHAR(20), buyerID CHAR(20), sellerID CHAR(20), reviewID CHAR(20), sale_price REAL, PRIMARY KEY(itemID, buyerID, sellerID), FOREIGN KEY itemID REFERENCES Items (itemID), FOREIGN KEY (sellerID) REFRENCES Users(user_id), FOREIGN KEY (buyerID) REFERENCES Users(userID), FOREIGN KEY (reviewID) REFERENCES Review(reviewID));

CREATE TABLE Review (reviewID CHAR(20), subject CHAR(20), content CHAR(80), date DATE, rating Integer, PRIMARY KEY (reviewID));

CREATE TABLE CreditCard (ccID CHAR(20), ccv Integer, bill_address CHAR(20), merchant CHAR(20), number BIGINT, exp_date DATE, PRIMARY KEY (ccID));

