<<<<<<< HEAD
CREATE TABLE Users (
	userID INTEGER AUTO_INCREMENT NOT NULL,
	type ENUM("User", "Vendor") NOT NULL,
	name VARCHAR(255) NOT NULL,
	address_streeAddr VARCHAR(255) NOT NULL,
	address_city VARCHAR(255) NOT NULL,
	address_state CHAR(2) NOT NULL,
	address_zip CHAR(5) NOT NULL,
	address_zip_ext CHAR(4),
	birthdate TIMESTAMP NOT NULL,
	email VARCHAR(255) NOT NULL,
	PRIMARY KEY(userID)
	);
	
CREATE TABLE Vendors (
	userID INTEGER NOT NULL,
	type ENUM("Vendor") NOT NULL,
	company_name VARCHAR(255) NOT NULL,
	phone_num CHAR(11) NOT NULL,
	PRIMARY KEY(userID),
	FOREIGN KEY(userID, type) REFERENCES Users(userID, type)
	);
	
CREATE TABLE Ratings (
	seller_userID INTEGER NOT NULL,
	buyer_userID INTEGER NOT NULL,
	timestamp TIMESTAMP NOT NULL,
	itemID INTEGER NOT NULL,
	subject VARCHAR(255) NOT NULL,
	rating TINYINT NOT NULL,
	CONSTRAINT star_rating CHECK (rating >= 0 AND rating <=5),
	content VARCHAR(2000) NOT NULL,
	PRIMARY KEY(seller_userID, buyer_userID, itemID, timestamp),
	FOREIGN KEY(seller_userID, buyer_userID, itemID, timestamp),
	);
	
CREATE TABLE Transactions (
	seller_userID INTEGER NOT NULL,
	buyer_userID INTEGER NOT NULL,
	timestamp TIMESTAMP NOT NULL,
	itemID INTEGER NOT NULL,
	itemCt UNSIGNED INTEGER NOT NULL,
	carrier_trackingNum VARCHAR(255),
	salePrice DECIMAL(6,2) NOT NULL,
	PRIMARY KEY(seller_userID, buyer_userID, itemID, timestamp)
	);
	
CREATE TABLE Reviews (
	);
	
CREATE TABLE Sells (
	);
	
CREATE TABLE Items (
	);
	
CREATE TABLE Categories (
	);
	
CREATE TABLE Cat_Children (
	);
	
CREATE TABLE Auctions (
	);
	
CREATE TABLE Bids (
	);
	
CREATE TABLE CreditCards (
	);
	
=======
CREATE TABLE Category (categoryID CHAR(20), name CHAR(30), description CHAR(100), parentID, PRIMARY KEY(categoryID), FOREIGN KEY parentID REFERENCES Category (categoryID));

CREATE TABLE Items (itemID CHAR(20), description CHAR(200), sale_price REAL, addressID CHAR(20), PRIMARY KEY(itemID), FOREIGN KEY (addressID) REFERENCES ADDRESS (addressID) ON DELETE NO ACTION);

CREATE TABLE Auction (auctionID CHAR(20), reserve_price REAL, top_bid CHAR(20), end_time DATE NOT NULL, PRIMARY KEY(auctionID), FOREIGN KEY (top_bid) REFERENCES BID(bidID));

CREATE TABLE Bids (bidID CHAR(20), auctionID, timestamp DATE, amount REAL, PRIMARY KEY (bidID), FOREIGN KEY (auctionID) REFERENCES Auction(auctionID) ON DELETE CASCADE);

CREATE TABLE Address (addressID CHAR(20), street CHAR(40), city CHAR(30), state CHAR(30), zipcode CHAR(20), phone_number CHAR(20), PRIMARY KEY (addressID));

CREATE TABLE Ratings (itemID CHAR(20), rating INTEGER, content CHAR(80), date DATE, PRIMARY KEY (itemID), FOREIGN KEY (itemID) REFERNCES Items (itemID) ON DELETE CASCADE);

CREATE TABLE TRANSACTION (itemID CHAR(20), buyerID CHAR(20), sellerID CHAR(20), reviewID CHAR(20), sale_price REAL, PRIMARY KEY(itemID, buyerID, sellerID), FOREIGN KEY itemID REFERENCES Items (itemID), FOREIGN KEY (sellerID) REFRENCES Users(user_id), FOREIGN KEY (buyerID) REFERENCES Users(userID), FOREIGN KEY (reviewID) REFERENCES Review(reviewID));

CREATE TABLE Review (reviewID CHAR(20), subject CHAR(20), content CHAR(80), date DATE, rating Integer, PRIMARY KEY (reviewID));

CREATE TABLE CreditCard (ccID CHAR(20), ccv Integer, bill_address CHAR(20), merchant CHAR(20), number BIGINT, exp_date DATE, PRIMARY KEY (ccID));

>>>>>>> refs/remotes/origin/master
